(function() {
  var CliCommand, execute, gitUtil, util;

  CliCommand = require('./cli-command');

  gitUtil = require('./git-util');

  util = require('./util');

  execute = require('./runner').execute;

  exports.listRemotes = function(options, callback) {
    var command, execOptions, _ref;
    _ref = util.setOptions(options, callback), options = _ref[0], callback = _ref[1];
    command = new CliCommand(['git', 'remote', 'show'], options);
    execOptions = {
      processResult: function(err, stdout) {
        return stdout.trim().split("\n");
      }
    };
    return execute(command, this._getOptions(execOptions), callback);
  };

  exports.showRemote = function(name, options, callback) {
    var command, execOptions, _ref;
    _ref = util.setOptions(options, callback), options = _ref[0], callback = _ref[1];
    command = new CliCommand(['git', 'remote', 'show'], name, options);
    execOptions = {
      processResult: function(err, stdout) {
        return gitUtil.parseRemote(stdout);
      }
    };
    return execute(command, this._getOptions(execOptions), callback);
  };

  exports.addRemote = function(name, url, options, callback) {
    var command, _ref;
    _ref = util.setOptions(options, callback), options = _ref[0], callback = _ref[1];
    command = new CliCommand(['git', 'remote', 'add'], [name, url], options);
    return execute(command, this._getOptions(), callback);
  };

  exports.setRemoteUrl = function(name, url, options, callback) {
    var command, _ref;
    _ref = util.setOptions(options, callback), options = _ref[0], callback = _ref[1];
    command = new CliCommand(['git', 'remote', 'set-url'], [name, url], options);
    return execute(command, this._getOptions(), callback);
  };

}).call(this);
